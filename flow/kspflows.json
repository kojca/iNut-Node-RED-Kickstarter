[
    {
        "id": "6c281c8f.cbebc4",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f6e14664.ebf688",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "ourshark.mysmarthome.vn",
        "port": "8097",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": ""
    },
    {
        "id": "e3ed5d37.01305",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "mqtt.mysmarthome.vn",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": ""
    },
    {
        "id": "1847ebdd.d24294",
        "type": "mqtt in",
        "z": "6c281c8f.cbebc4",
        "name": "iNut cảm biến DS18b20",
        "topic": "request/PsxUPldlbBNEuEUTi7Ci5yls77R2/HJW5mRefQ/b694cb9c50733ef3da4178f0b8873f19375073866451",
        "qos": "2",
        "broker": "e3ed5d37.01305",
        "x": 197.1428680419922,
        "y": 180.00000190734863,
        "wires": [
            [
                "93b6c6f4.7d6c18"
            ]
        ]
    },
    {
        "id": "93b6c6f4.7d6c18",
        "type": "json",
        "z": "6c281c8f.cbebc4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.71429443359375,
        "y": 180.00000953674316,
        "wires": [
            [
                "5e264ab4.f269a4"
            ]
        ]
    },
    {
        "id": "5e264ab4.f269a4",
        "type": "function",
        "z": "6c281c8f.cbebc4",
        "name": "Xuất excel",
        "func": "var today = new Date();\nvar dd = today.getDate();\nvar mm = today.getMonth()+1; //January is 0!\n\nvar yyyy = today.getFullYear();\nif(dd<10){\n    dd='0'+dd;\n} \nif(mm<10){\n    mm='0'+mm;\n} \nvar today = yyyy + '_' + mm + '_' + dd\n\nmsg.payload = msg.payload[0].state + \";\" + msg.payload[1].state + \";\" + (new Date())\n\nmsg.filename = 'excel/' + today + '.csv'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 594,
        "y": 223,
        "wires": [
            [
                "85ac1f88.469bb",
                "2ae54b58.950ea4",
                "46fdd056.76c4b"
            ]
        ]
    },
    {
        "id": "85ac1f88.469bb",
        "type": "file",
        "z": "6c281c8f.cbebc4",
        "name": "ghi vào file",
        "filename": "",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "x": 804,
        "y": 204,
        "wires": []
    },
    {
        "id": "2ae54b58.950ea4",
        "type": "debug",
        "z": "6c281c8f.cbebc4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 754,
        "y": 95,
        "wires": []
    },
    {
        "id": "46fdd056.76c4b",
        "type": "debug",
        "z": "6c281c8f.cbebc4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "filename",
        "x": 771,
        "y": 140,
        "wires": []
    }
]